new entry "Interrupt_AbsorbElements"
type "InterruptData"
data "DisplayName" "d95057ac-26d0-4bf6-9803-540a8a4b3928;1"
data "Description" "520c7d44163f4ee1bb6cedf5ca59bda7;1"
data "Icon" "PassiveFeature_AbsorbElements"
data "InterruptContext" "OnPreDamage"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "IsAbleToReact(context.Observer) and Self(context.Target,context.Observer) and DampenElementsCheck(context.HitDescription.MainDamageType, context.Target) and not AnyEntityIsItem()"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);ApplyStatus(OBSERVER_TARGET,INTERRUPT_DAMPEN_ELEMENTS,100,0);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Fire)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Fire,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Cold)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Cold,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Lightning)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Lightning,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Acid)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Acid,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Thunder)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Thunder,true,true,true);ApplyStatus(OBSERVER_TARGET, ABSORB_ELEMENTS_ACTIVE,100,1)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:1"
data "InterruptDefaultValue" "Ask;Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER')"
data "EnableContext" "OnStatusApplied"

new entry "Interrupt_AbsorbElements_2"
type "InterruptData"
using "Interrupt_AbsorbElements"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);ApplyStatus(OBSERVER_TARGET,INTERRUPT_DAMPEN_ELEMENTS,100,0);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Fire)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Fire_2,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Cold)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Cold_2,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Lightning)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Lightning_2,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Acid)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Acid_2,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Thunder)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Thunder_2,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:2"

new entry "Interrupt_AbsorbElements_3"
type "InterruptData"
using "Interrupt_AbsorbElements"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:3"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);ApplyStatus(OBSERVER_TARGET,INTERRUPT_DAMPEN_ELEMENTS,100,0);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Fire)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Fire_3,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Cold)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Cold_3,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Lightning)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Lightning_3,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Acid)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Acid_3,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Thunder)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Thunder_3,true,true,true)"

new entry "Interrupt_AbsorbElements_4"
type "InterruptData"
using "Interrupt_AbsorbElements"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:4"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);ApplyStatus(OBSERVER_TARGET,INTERRUPT_DAMPEN_ELEMENTS,100,0);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Fire)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Fire_4,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Cold)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Cold_4,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Lightning)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Lightning_4,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Acid)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Acid_4,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Thunder)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Thunder_4,true,true,true)"

new entry "Interrupt_AbsorbElements_5"
type "InterruptData"
using "Interrupt_AbsorbElements"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:5"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);ApplyStatus(OBSERVER_TARGET,INTERRUPT_DAMPEN_ELEMENTS,100,0);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Fire)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Fire_5,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Cold)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Cold_5,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Lightning)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Lightning_5,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Acid)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Acid_5,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Thunder)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Thunder_5,true,true,true)"

new entry "Interrupt_AbsorbElements_6"
type "InterruptData"
using "Interrupt_AbsorbElements"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:6"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);ApplyStatus(OBSERVER_TARGET,INTERRUPT_DAMPEN_ELEMENTS,100,0);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Fire)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Fire_6,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Cold)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Cold_6,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Lightning)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Lightning_6,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Acid)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Acid_6,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Thunder)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Thunder_6,true,true,true)"

new entry "Interrupt_AbsorbElements_7"
type "InterruptData"
using "Interrupt_AbsorbElements"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:7"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);ApplyStatus(OBSERVER_TARGET,INTERRUPT_DAMPEN_ELEMENTS,100,0);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Fire)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Fire_7,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Cold)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Cold_7,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Lightning)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Lightning_7,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Acid)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Acid_7,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Thunder)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Thunder_7,true,true,true)"

new entry "Interrupt_AbsorbElements_8"
type "InterruptData"
using "Interrupt_AbsorbElements"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:8"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);ApplyStatus(OBSERVER_TARGET,INTERRUPT_DAMPEN_ELEMENTS,100,0);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Fire)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Fire_8,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Cold)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Cold_8,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Lightning)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Lightning_8,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Acid)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Acid_8,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Thunder)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Thunder_8,true,true,true)"

new entry "Interrupt_AbsorbElements_9"
type "InterruptData"
using "Interrupt_AbsorbElements"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:9"
data "Properties" "SetDamageResistance(Acid);SetDamageResistance(Cold);SetDamageResistance(Fire);SetDamageResistance(Lightning);SetDamageResistance(Thunder);ApplyStatus(OBSERVER_TARGET,INTERRUPT_DAMPEN_ELEMENTS,100,0);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Fire)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Fire_9,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Cold)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Cold_9,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Lightning)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Lightning_9,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Acid)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Acid_9,true,true,true);IF(ConditionResult(context.HitDescription.MainDamageType == DamageType.Thunder)):UseSpell(OBSERVER_OBSERVER,Shout_AbsorbElements_Thunder_9,true,true,true)"

new entry "Interrupt_Counterspell_7"
type "InterruptData"
using "Interrupt_Counterspell"
data "Roll" "TryCounterspellHigherLevel(7)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:7"

new entry "Interrupt_Counterspell_8"
type "InterruptData"
using "Interrupt_Counterspell"
data "Roll" "TryCounterspellHigherLevel(8)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:8"

new entry "Interrupt_Counterspell_9"
type "InterruptData"
using "Interrupt_Counterspell"
data "Roll" "TryCounterspellHigherLevel(9)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:9"

new entry "Interrupt_HellishRebuke_4"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(5d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_4,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:4"

new entry "Interrupt_HellishRebuke_5"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(6d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_5,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:5"

new entry "Interrupt_HellishRebuke_6"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(7d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_6,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:6"

new entry "Interrupt_HellishRebuke_7"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(8d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_7,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:7"

new entry "Interrupt_HellishRebuke_8"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(9d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_8,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:8"

new entry "Interrupt_HellishRebuke_9"
type "InterruptData"
using "Interrupt_HellishRebuke"
data "DescriptionParams" "DealDamage(10d10,Fire)"
data "Properties" "UseSpell(SWAP,Target_HellishRebuke_9,true,true,true)"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:9"

new entry "Interrupt_Shield_Sorcerer_7"
type "InterruptData"
using "Interrupt_Shield_Sorcerer"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:7"

new entry "Interrupt_Shield_Warlock_7"
type "InterruptData"
using "Interrupt_Shield_Warlock"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:7"

new entry "Interrupt_Shield_Wizard_7"
type "InterruptData"
using "Interrupt_Shield_Wizard"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:7"

new entry "Interrupt_Shield_Sorcerer_8"
type "InterruptData"
using "Interrupt_Shield_Sorcerer"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:8"

new entry "Interrupt_Shield_Warlock_8"
type "InterruptData"
using "Interrupt_Shield_Warlock"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:8"

new entry "Interrupt_Shield_Wizard_8"
type "InterruptData"
using "Interrupt_Shield_Wizard"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:8"

new entry "Interrupt_Shield_Sorcerer_9"
type "InterruptData"
using "Interrupt_Shield_Sorcerer"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:9"

new entry "Interrupt_Shield_Warlock_9"
type "InterruptData"
using "Interrupt_Shield_Warlock"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:9"

new entry "Interrupt_Shield_Wizard_9"
type "InterruptData"
using "Interrupt_Shield_Wizard"
data "Cost" "ReactionActionPoint:1;SpellSlotsGroup:1:1:9"

new entry "Interrupt_Truesight"
type "InterruptData"
data "DisplayName" "h47736fecg4c86g4fcbga2a1g65c99d048721;1"
data "Description" "h531633c7g1ff4g46c9g8631gef87f2cbaa30;1"
data "Icon" "Spell_Divination_TrueSeeing"
data "InterruptContext" "OnPostRoll"
data "InterruptContextScope" "Self"
data "Container" "YesNoDecision"
data "Conditions" "not Self(context.Source,context.Observer) and Self(context.Target,context.Observer) and HasInterruptedSavingThrow() and IsSpellOfSchool(SpellSchool.Illusion)"
data "Properties" "SetRoll(20);AdjustRoll(20);ApplyStatus(OBSERVER_OBSERVER,INTERRUPT_LEGENDARY_RESISTANCE,100,0)"
data "InterruptDefaultValue" "Enabled"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied;OnStatusRemoved"