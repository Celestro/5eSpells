new entry "RitualCasting"
type "PassiveData"
data "DisplayName" "Ritual Casting"
data "Description" "Spells with the ritual tag may be cast without expending a spell slot."
data "Properties" "Highlighted"
data "Icon" "PassiveFeature_RitualCasting"

new entry "RitualCasting_Spells"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "IF(HasStatus('CEREMONY_RITUAL',context.Source)):UnlockSpell(Target_Ceremony_Ritual);IF(HasStatus('DETECT_MAGIC_RITUAL',context.Source)):UnlockSpell(Shout_DetectMagic_Ritual);IF(HasStatus('FIND_FAMILIAR_RITUAL',context.Source)):UnlockSpell(Target_FindFamiliar_Ritual);IF(HasStatus('SPEAK_WITH_ANIMALS_RITUAL',context.Source)):UnlockSpell(Shout_SpeakWithAnimals_Ritual);IF(HasStatus('UNSEEN_SERVANT_RITUAL',context.Source)):UnlockSpell(Target_UnseenServant_Ritual);IF(HasStatus('SILENCE_RITUAL',context.Source)):UnlockSpell(Target_Silence_Ritual);IF(HasStatus('WATER_WALK_RITUAL',context.Source)):UnlockSpell(Shout_WaterWalk_Ritual);IF(HasStatus('COMMUNE_WITH_NATURE_RITUAL',context.Source)):UnlockSpell(Shout_CommuneWithNature_Ritual);IF(HasStatus('TELEPATHIC_BOND_RITUAL',context.Source)):UnlockSpell(Target_RarysTelepathicBond_Ritual)"
data "BoostContext" "OnStatusApplied;OnEquip;OnInventoryChanged;OnStatusRemoved;OnMovedDistance;OnCreate;OnTurn"

new entry "BoomingBlade"
type "PassiveData"
data "DisplayName" "Booming Blade"
data "Properties" "IsHidden"
data "DescriptionParams" "DealDamage(LevelMapValues(D8Cantrip),Thunder)"
data "Conditions" "SpellCategoryIs(SpellCategory.Jump) or SpellCategoryIs(SpellCategory.Rush)"
data "StatsFunctors" "CreateExplosion(Projectile_ThunderEffect_Explosion);IF(HasStatus('BOOMING_BLADE',context.Source)):DealDamage(1d8, Thunder, Magical);IF(HasStatus('BOOMING_BLADE_2',context.Source)):DealDamage(2d8, Thunder, Magical);IF(HasStatus('BOOMING_BLADE_3',context.Source)):DealDamage(3d8, Thunder, Magical);IF(HasStatus('BOOMING_BLADE_4',context.Source)):DealDamage(4d8, Thunder, Magical); RemoveStatus(BOOMING_BLADE);RemoveStatus(BOOMING_BLADE_2);RemoveStatus(BOOMING_BLADE_3);RemoveStatus(BOOMING_BLADE_4)"
data "StatsFunctorContext" "OnProjectileExploded"

new entry "Status_ZephyrStrikeSpeedAttackBonus"
type "PassiveData"
data "DisplayName" "Zephyr Strike"
data "Description" "Once during the spell's activation, one weapon attack gains advantage against a target and deals an additional 1d8 Force damage. Whether it hits or misses, you gain an additional 9 movement for the turn."
data "Conditions" "IsWeaponAttack()"
data "Boosts" "Advantage(AttackRoll)"
data "StatsFunctors" "IF(HasDamageEffectFlag(DamageFlags.Hit)):DealDamage(1d8, Force, Magical);ApplyStatus(SELF,ZEPHYR_STRIKE_SPEED,100,1);RemoveStatus(SELF,ZEPHYR_STRIKE_SECOND)"
data "StatsFunctorContext" "OnAttack"

new entry "Shield"
type "PassiveData"
data "DisplayName" "Shield"
data "Description" "Gain a +5 bonus to AC and take no damage from Magic Missile. This is a Reaction."
data "ExtraDescription" "Shared_Passive_Shield_ExtraDescription"
data "Icon" "PassiveFeature_Shield"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false, context.Source) and (IsAttack() or SpellId('Projectile_MagicMissile'))"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;ToggledDefaultOn;Highlighted"
data "StatsFunctors" "UseActionResource(ReactionActionPoint,1);RemoveStatus(SHIELD_APPLY)"
data "StatsFunctorContext" "OnAttacked"
data "ToggleOnFunctors" "ApplyStatus(SHIELD_TOGGLE,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(SHIELD_TOGGLE);RemoveStatus(SHIELD)"
data "TooltipUseCosts" "ReactionActionPoint:1"

new entry "AbsorbElements_Acid"
type "PassiveData"
data "Properties" "IsHidden"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false, context.Source) and HasDamageDoneForType(DamageType.Acid)"
data "StatsFunctors" "UseActionResource(ReactionActionPoint,1);RemoveStatus(ABSORB_ELEMENTS_TECHNICAL);ApplyStatus(ABSORB_ELEMENTS_ACID,100,1)"
data "StatsFunctorContext" "OnDamaged"

new entry "AbsorbElements_Cold"
type "PassiveData"
using "AbsorbElements_Acid"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false, context.Source) and HasDamageDoneForType(DamageType.Cold)"
data "StatsFunctors" "UseActionResource(ReactionActionPoint,1);RemoveStatus(ABSORB_ELEMENTS_TECHNICAL);ApplyStatus(ABSORB_ELEMENTS_COLD,100,1)"

new entry "AbsorbElements_Fire"
type "PassiveData"
using "AbsorbElements_Acid"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false, context.Source) and HasDamageDoneForType(DamageType.Fire)"
data "StatsFunctors" "UseActionResource(ReactionActionPoint,1);RemoveStatus(ABSORB_ELEMENTS_TECHNICAL);ApplyStatus(ABSORB_ELEMENTS_FIRE,100,1)"

new entry "AbsorbElements_Lightning"
type "PassiveData"
using "AbsorbElements_Acid"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false, context.Source) and HasDamageDoneForType(DamageType.Lightning)"
data "StatsFunctors" "UseActionResource(ReactionActionPoint,1);RemoveStatus(ABSORB_ELEMENTS_TECHNICAL);ApplyStatus(ABSORB_ELEMENTS_LIGHTNING,100,1)"

new entry "AbsorbElements_Thunder"
type "PassiveData"
using "AbsorbElements_Acid"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false, context.Source) and HasDamageDoneForType(DamageType.Thunder)"
data "StatsFunctors" "UseActionResource(ReactionActionPoint,1);RemoveStatus(ABSORB_ELEMENTS_TECHNICAL);ApplyStatus(ABSORB_ELEMENTS_THUNDER,100,1)"

new entry "AbsorbElements_AcidAttack"
type "PassiveData"
data "DisplayName" "Absorb Elements: Acid"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS',context.Source)):DealDamage(1d6, Acid, Magical);IF(HasStatus('ABSORB_ELEMENTS_2',context.Source)):DealDamage(2d6, Acid, Magical);IF(HasStatus('ABSORB_ELEMENTS_3',context.Source)):DealDamage(3d6, Acid, Magical);IF(HasStatus('ABSORB_ELEMENTS_4',context.Source)):DealDamage(4d6, Acid, Magical);IF(HasStatus('ABSORB_ELEMENTS_5',context.Source)):DealDamage(5d6, Acid, Magical);IF(HasStatus('ABSORB_ELEMENTS_6',context.Source)):DealDamage(6d6, Acid, Magical);IF(HasStatus('ABSORB_ELEMENTS_7',context.Source)):DealDamage(7d6, Acid, Magical);IF(HasStatus('ABSORB_ELEMENTS_8',context.Source)):DealDamage(8d6, Acid, Magical);IF(HasStatus('ABSORB_ELEMENTS_9',context.Source)):DealDamage(9d6, Acid, Magical);RemoveStatus(SELF,ABSORB_ELEMENTS_ACIDDAMAGE);RemoveStatus(SELF,ABSORB_ELEMENTS);RemoveStatus(SELF,ABSORB_ELEMENTS_2);RemoveStatus(SELF,ABSORB_ELEMENTS_3);RemoveStatus(SELF,ABSORB_ELEMENTS_4);RemoveStatus(SELF,ABSORB_ELEMENTS_5);RemoveStatus(SELF,ABSORB_ELEMENTS_6);RemoveStatus(SELF,ABSORB_ELEMENTS_7);RemoveStatus(SELF,ABSORB_ELEMENTS_8);RemoveStatus(SELF,ABSORB_ELEMENTS_9)"
data "StatsFunctorContext" "OnAttack"

new entry "AbsorbElements_ColdAttack"
type "PassiveData"
data "DisplayName" "Absorb Elements: Cold"
data "Properties" "OncePerTurn"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS',context.Source)):DealDamage(1d6, Cold, Magical);IF(HasStatus('ABSORB_ELEMENTS_2',context.Source)):DealDamage(2d6, Cold, Magical);IF(HasStatus('ABSORB_ELEMENTS_3',context.Source)):DealDamage(3d6, Cold, Magical);IF(HasStatus('ABSORB_ELEMENTS_4',context.Source)):DealDamage(4d6, Cold, Magical);IF(HasStatus('ABSORB_ELEMENTS_5',context.Source)):DealDamage(5d6, Cold, Magical);IF(HasStatus('ABSORB_ELEMENTS_6',context.Source)):DealDamage(6d6, Cold, Magical);IF(HasStatus('ABSORB_ELEMENTS_7',context.Source)):DealDamage(7d6, Cold, Magical);IF(HasStatus('ABSORB_ELEMENTS_8',context.Source)):DealDamage(8d6, Cold, Magical);IF(HasStatus('ABSORB_ELEMENTS_9',context.Source)):DealDamage(9d6, Cold, Magical);RemoveStatus(SELF,ABSORB_ELEMENTS_COLDDAMAGE);RemoveStatus(SELF,ABSORB_ELEMENTS);RemoveStatus(SELF,ABSORB_ELEMENTS_2);RemoveStatus(SELF,ABSORB_ELEMENTS_3);RemoveStatus(SELF,ABSORB_ELEMENTS_4);RemoveStatus(SELF,ABSORB_ELEMENTS_5);RemoveStatus(SELF,ABSORB_ELEMENTS_6);RemoveStatus(SELF,ABSORB_ELEMENTS_7);RemoveStatus(SELF,ABSORB_ELEMENTS_8);RemoveStatus(SELF,ABSORB_ELEMENTS_9)"
data "StatsFunctorContext" "OnAttack"

new entry "AbsorbElements_FireAttack"
type "PassiveData"
data "DisplayName" "Absorb Elements: Fire"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS',context.Source)):DealDamage(1d6, Fire, Magical);IF(HasStatus('ABSORB_ELEMENTS_2',context.Source)):DealDamage(2d6, Fire, Magical);IF(HasStatus('ABSORB_ELEMENTS_3',context.Source)):DealDamage(3d6, Fire, Magical);IF(HasStatus('ABSORB_ELEMENTS_4',context.Source)):DealDamage(4d6, Fire, Magical);IF(HasStatus('ABSORB_ELEMENTS_5',context.Source)):DealDamage(5d6, Fire, Magical);IF(HasStatus('ABSORB_ELEMENTS_6',context.Source)):DealDamage(6d6, Fire, Magical);IF(HasStatus('ABSORB_ELEMENTS_7',context.Source)):DealDamage(7d6, Fire, Magical);IF(HasStatus('ABSORB_ELEMENTS_8',context.Source)):DealDamage(8d6, Fire, Magical);IF(HasStatus('ABSORB_ELEMENTS_9',context.Source)):DealDamage(9d6, Fire, Magical);RemoveStatus(SELF,ABSORB_ELEMENTS_FIREDAMAGE);RemoveStatus(SELF,ABSORB_ELEMENTS);RemoveStatus(SELF,ABSORB_ELEMENTS_2);RemoveStatus(SELF,ABSORB_ELEMENTS_3);RemoveStatus(SELF,ABSORB_ELEMENTS_4);RemoveStatus(SELF,ABSORB_ELEMENTS_5);RemoveStatus(SELF,ABSORB_ELEMENTS_6);RemoveStatus(SELF,ABSORB_ELEMENTS_7);RemoveStatus(SELF,ABSORB_ELEMENTS_8);RemoveStatus(SELF,ABSORB_ELEMENTS_9)"
data "StatsFunctorContext" "OnAttack"

new entry "AbsorbElements_LightningAttack"
type "PassiveData"
data "DisplayName" "Absorb Elements: Lightning"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS',context.Source) and not DestructiveWrath()):DealDamage(1d6, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_2',context.Source) and not DestructiveWrath()):DealDamage(2d6, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_3',context.Source) and not DestructiveWrath()):DealDamage(3d6, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_4',context.Source) and not DestructiveWrath()):DealDamage(4d6, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_5',context.Source) and not DestructiveWrath()):DealDamage(5d6, Lightning, Magical);RemoveStatus(SELF,ABSORB_ELEMENTS_THUNDERDAMAGE);RemoveStatus(SELF,ABSORB_ELEMENTS);RemoveStatus(SELF,ABSORB_ELEMENTS_2);RemoveStatus(SELF,ABSORB_ELEMENTS_3);RemoveStatus(SELF,ABSORB_ELEMENTS_4);RemoveStatus(SELF,ABSORB_ELEMENTS_5);RemoveStatus(SELF,ABSORB_ELEMENTS_6);RemoveStatus(SELF,ABSORB_ELEMENTS_7);RemoveStatus(SELF,ABSORB_ELEMENTS_8);RemoveStatus(SELF,ABSORB_ELEMENTS_9);"
data "StatsFunctorContext" "OnAttack"

new entry "AbsorbElements_LightningAttack_2"
type "PassiveData"
data "DisplayName" "Absorb Elements: Lightning"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS_6',context.Source) and not DestructiveWrath()):DealDamage(6d6, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_7',context.Source) and not DestructiveWrath()):DealDamage(7d6, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_8',context.Source) and not DestructiveWrath()):DealDamage(8d6, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_9',context.Source) and not DestructiveWrath()):DealDamage(9d6, Lightning, Magical)"
data "StatsFunctorContext" "OnAttack"

new entry "AbsorbElements_LightningAttack_3"
type "PassiveData"
data "DisplayName" "Absorb Elements: Lightning"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS',context.Source) and DestructiveWrath()):DealDamage(6, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_2',context.Source) and DestructiveWrath()):DealDamage(12, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_3',context.Source) and DestructiveWrath()):DealDamage(18, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_4',context.Source) and DestructiveWrath()):DealDamage(24, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_5',context.Source) and DestructiveWrath()):DealDamage(30, Lightning, Magical);IF(HasStatus('ChannelDivinityDestructiveWrath_status',context.Target,context.Source)):RemoveStatus(ChannelDivinityDestructiveWrath_status);IF(HasStatus('DESTRUCTIVE_WRATH',context.Target,context.Source)):RemoveStatus(DESTRUCTIVE_WRATH)"
data "StatsFunctorContext" "OnAttack"

new entry "AbsorbElements_LightningAttack_4"
type "PassiveData"
data "DisplayName" "Absorb Elements: Lightning"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS_6',context.Source) and DestructiveWrath()):DealDamage(36, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_7',context.Source) and DestructiveWrath()):DealDamage(42, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_8',context.Source) and DestructiveWrath()):DealDamage(48, Lightning, Magical);IF(HasStatus('ABSORB_ELEMENTS_9',context.Source) and DestructiveWrath()):DealDamage(54, Lightning, Magical)"
data "StatsFunctorContext" "OnAttack"

new entry "AbsorbElements_ThunderAttack"
type "PassiveData"
data "DisplayName" "Absorb Elements: Thunder"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS',context.Source) and not DestructiveWrath()):DealDamage(1d6, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_2',context.Source) and not DestructiveWrath()):DealDamage(2d6, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_3',context.Source) and not DestructiveWrath()):DealDamage(3d6, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_4',context.Source) and not DestructiveWrath()):DealDamage(4d6, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_5',context.Source) and not DestructiveWrath()):DealDamage(5d6, Thunder, Magical);RemoveStatus(SELF,ABSORB_ELEMENTS_THUNDERDAMAGE);RemoveStatus(SELF,ABSORB_ELEMENTS);RemoveStatus(SELF,ABSORB_ELEMENTS_2);RemoveStatus(SELF,ABSORB_ELEMENTS_3);RemoveStatus(SELF,ABSORB_ELEMENTS_4);RemoveStatus(SELF,ABSORB_ELEMENTS_5);RemoveStatus(SELF,ABSORB_ELEMENTS_6);RemoveStatus(SELF,ABSORB_ELEMENTS_7);RemoveStatus(SELF,ABSORB_ELEMENTS_8);RemoveStatus(SELF,ABSORB_ELEMENTS_9)"
data "StatsFunctorContext" "OnAttack"

new entry "AbsorbElements_ThunderAttack_2"
type "PassiveData"
data "DisplayName" "Absorb Elements: Thunder"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS_6',context.Source) and not DestructiveWrath()):DealDamage(6d6, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_7',context.Source) and not DestructiveWrath()):DealDamage(7d6, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_8',context.Source) and not DestructiveWrath()):DealDamage(8d6, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_9',context.Source) and not DestructiveWrath()):DealDamage(9d6, Thunder, Magical)"
data "StatsFunctorContext" "OnAttack"

new entry "AbsorbElements_ThunderAttack_3"
type "PassiveData"
data "DisplayName" "Absorb Elements: Thunder"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS',context.Source) and DestructiveWrath()):DealDamage(6, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_2',context.Source) and DestructiveWrath()):DealDamage(12, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_3',context.Source) and DestructiveWrath()):DealDamage(18, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_4',context.Source) and DestructiveWrath()):DealDamage(24, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_5',context.Source) and DestructiveWrath()):DealDamage(30, Thunder, Magical)"
data "StatsFunctorContext" "OnAttack"

new entry "AbsorbElements_ThunderAttack_4"
type "PassiveData"
data "DisplayName" "Absorb Elements: Thunder"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "IF(HasStatus('ABSORB_ELEMENTS_6',context.Source) and DestructiveWrath()):DealDamage(36, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_7',context.Source) and DestructiveWrath()):DealDamage(42, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_8',context.Source) and DestructiveWrath()):DealDamage(48, Thunder, Magical);IF(HasStatus('ABSORB_ELEMENTS_9',context.Source) and DestructiveWrath()):DealDamage(54, Thunder, Magical)"
data "StatsFunctorContext" "OnAttack"

new entry "ShadowBlade_Advantage"
type "PassiveData"
data "Conditions" "IsPassiveSource('ShadowBlade_Advantage', GetAttackWeapon()) and IsWeaponAttack()"
data "DisplayName" "Shadow Blade"
data "Description" "You gain advantage against targets in dim light or darkness."

new entry "DispelMagic_Proc"
type "PassiveData"
data "Properties" "IsHidden"
data "Conditions" "context.HitDescription.SpellLevel < 4"
data "StatsFunctors" "ApplyStatus(SELF,DISPELMAGIC_ACTIVE,100,-1);ApplyStatus(DISPELMAGIC_ACTIVE,100,-1)"
data "StatsFunctorContext" "OnAttack;OnHeal"

new entry "FlamingSphere_State_3"
type "PassiveData"
using "FlamingSphere_State"
data "DescriptionParams" "DealDamage(3d6,Fire)"
data "ToggleOnFunctors" "ApplyStatus(FLAMING_SPHERE_AURA_3,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(FLAMING_SPHERE_AURA_3)"

new entry "FlamingSphere_State_4"
type "PassiveData"
using "FlamingSphere_State"
data "DescriptionParams" "DealDamage(4d6,Fire)"
data "ToggleOnFunctors" "ApplyStatus(FLAMING_SPHERE_AURA_4,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(FLAMING_SPHERE_AURA_4)"

new entry "FlamingSphere_State_5"
type "PassiveData"
using "FlamingSphere_State"
data "DescriptionParams" "DealDamage(5d6,Fire)"
data "ToggleOnFunctors" "ApplyStatus(FLAMING_SPHERE_AURA_5,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(FLAMING_SPHERE_AURA_5)"

new entry "FlamingSphere_State_6"
type "PassiveData"
using "FlamingSphere_State"
data "DescriptionParams" "DealDamage(6d6,Fire)"
data "ToggleOnFunctors" "ApplyStatus(FLAMING_SPHERE_AURA_6,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(FLAMING_SPHERE_AURA_6)"

new entry "FlamingSphere_State_7"
type "PassiveData"
using "FlamingSphere_State"
data "DescriptionParams" "DealDamage(7d6,Fire)"
data "ToggleOnFunctors" "ApplyStatus(FLAMING_SPHERE_AURA_7,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(FLAMING_SPHERE_AURA_7)"

new entry "FlamingSphere_State_8"
type "PassiveData"
using "FlamingSphere_State"
data "DescriptionParams" "DealDamage(8d6,Fire)"
data "ToggleOnFunctors" "ApplyStatus(FLAMING_SPHERE_AURA_8,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(FLAMING_SPHERE_AURA_8)"

new entry "FlamingSphere_State_9"
type "PassiveData"
using "FlamingSphere_State"
data "DescriptionParams" "DealDamage(9d6,Fire)"
data "ToggleOnFunctors" "ApplyStatus(FLAMING_SPHERE_AURA_9,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(FLAMING_SPHERE_AURA_9)"

new entry "MaximiliansEarthenGrasp"
type "PassiveData"
data "DisplayName" "Maximilian's Earth Grasp"
data "Properties" "IsHidden"
data "StatsFunctors" "ApplyStatus(CHECK_CONCENTRATION,100,0)"
data "StatsFunctorContext" "OnDamage"

new entry "CrusadersMantle"
type "PassiveData"
data "DisplayName" "Crusader's Mantle"
data "Description" "You deal an additional [1] with weapon attacks."
data "DescriptionParams" "DealDamage(1d4,Radiant)"
data "Conditions" "IsWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "DealDamage(1d4, Radiant, Magical)"
data "StatsFunctorContext" "OnAttack"

new entry "ArmorOfAgathys_3"
type "PassiveData"
using "ArmorOfAgathys"
data "DescriptionParams" "DealDamage(15,Cold)"
data "StatsFunctors" "ApplyStatus(PASSIVE_ARMOR_OF_AGATHYS,100,0);ApplyStatus(SELF,PASSIVE_ARMOR_OF_AGATHYS_ATTACKER,100,0);DealDamage(SWAP,15, Cold, Magical)"

new entry "ArmorOfAgathys_4"
type "PassiveData"
using "ArmorOfAgathys"
data "DescriptionParams" "DealDamage(20,Cold)"
data "StatsFunctors" "ApplyStatus(PASSIVE_ARMOR_OF_AGATHYS,100,0);ApplyStatus(SELF,PASSIVE_ARMOR_OF_AGATHYS_ATTACKER,100,0);DealDamage(SWAP,20, Cold, Magical)"

new entry "ArmorOfAgathys_5"
type "PassiveData"
using "ArmorOfAgathys"
data "DescriptionParams" "DealDamage(25,Cold)"
data "StatsFunctors" "ApplyStatus(PASSIVE_ARMOR_OF_AGATHYS,100,0);ApplyStatus(SELF,PASSIVE_ARMOR_OF_AGATHYS_ATTACKER,100,0);DealDamage(SWAP,25, Cold, Magical)"

new entry "ArmorOfAgathys_6"
type "PassiveData"
using "ArmorOfAgathys"
data "DescriptionParams" "DealDamage(30,Cold)"
data "StatsFunctors" "ApplyStatus(PASSIVE_ARMOR_OF_AGATHYS,100,0);ApplyStatus(SELF,PASSIVE_ARMOR_OF_AGATHYS_ATTACKER,100,0);DealDamage(SWAP,30, Cold, Magical)"

new entry "ArmorOfAgathys_7"
type "PassiveData"
using "ArmorOfAgathys"
data "DescriptionParams" "DealDamage(35,Cold)"
data "StatsFunctors" "ApplyStatus(PASSIVE_ARMOR_OF_AGATHYS,100,0);ApplyStatus(SELF,PASSIVE_ARMOR_OF_AGATHYS_ATTACKER,100,0);DealDamage(SWAP,35, Cold, Magical)"

new entry "ArmorOfAgathys_8"
type "PassiveData"
using "ArmorOfAgathys"
data "DescriptionParams" "DealDamage(40,Cold)"
data "StatsFunctors" "ApplyStatus(PASSIVE_ARMOR_OF_AGATHYS,100,0);ApplyStatus(SELF,PASSIVE_ARMOR_OF_AGATHYS_ATTACKER,100,0);DealDamage(SWAP,40, Cold, Magical)"

new entry "ArmorOfAgathys_9"
type "PassiveData"
using "ArmorOfAgathys"
data "DescriptionParams" "DealDamage(45,Cold)"
data "StatsFunctors" "ApplyStatus(PASSIVE_ARMOR_OF_AGATHYS,100,0);ApplyStatus(SELF,PASSIVE_ARMOR_OF_AGATHYS_ATTACKER,100,0);DealDamage(SWAP,45, Cold, Magical)"

new entry "HellishRebuke_3"
type "PassiveData"
data "DisplayName" "Hellish Rebuke"
data "Description" "Shared_Passive_HellishRebuke_2_Description"
data "DescriptionParams" "DealDamage(4d10,Fire)"
data "ExtraDescription" "Shared_Passive_HellishRebuke_2_ExtraDescription"
data "TooltipUseCosts" "ReactionActionPoint:1"
data "Icon" "PassiveFeature_HellishRebuke"
data "PriorityOrder" "2"
data "Properties" "IsToggled;ToggledDefaultOn;ToggledDefaultAddToHotbar;Highlighted;Temporary"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false) and Enemy()"
data "StatsFunctors" "UseSpell(SWAP,Target_HellishRebuke_3,true,true,true);UseActionResource(ReactionActionPoint,1);RemoveStatus(HELLISH_REBUKE_3)"

new entry "HellishRebuke_4"
type "PassiveData"
data "DisplayName" "Hellish Rebuke"
data "Description" "Shared_Passive_HellishRebuke_2_Description"
data "DescriptionParams" "DealDamage(4d10,Fire)"
data "ExtraDescription" "Shared_Passive_HellishRebuke_2_ExtraDescription"
data "TooltipUseCosts" "ReactionActionPoint:1"
data "Icon" "PassiveFeature_HellishRebuke"
data "PriorityOrder" "2"
data "Properties" "IsToggled;ToggledDefaultOn;ToggledDefaultAddToHotbar;Highlighted;Temporary"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false) and Enemy()"
data "StatsFunctors" "UseSpell(SWAP,Target_HellishRebuke_4,true,true,true);UseActionResource(ReactionActionPoint,1);RemoveStatus(HELLISH_REBUKE_4)"

new entry "HellishRebuke_5"
type "PassiveData"
data "DisplayName" "Hellish Rebuke"
data "Description" "Shared_Passive_HellishRebuke_2_Description"
data "DescriptionParams" "DealDamage(4d10,Fire)"
data "ExtraDescription" "Shared_Passive_HellishRebuke_2_ExtraDescription"
data "TooltipUseCosts" "ReactionActionPoint:1"
data "Icon" "PassiveFeature_HellishRebuke"
data "PriorityOrder" "2"
data "Properties" "IsToggled;ToggledDefaultOn;ToggledDefaultAddToHotbar;Highlighted;Temporary"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false) and Enemy()"
data "StatsFunctors" "UseSpell(SWAP,Target_HellishRebuke_5,true,true,true);UseActionResource(ReactionActionPoint,1);RemoveStatus(HELLISH_REBUKE_5)"

new entry "HellishRebuke_6"
type "PassiveData"
data "DisplayName" "Hellish Rebuke"
data "Description" "Shared_Passive_HellishRebuke_2_Description"
data "DescriptionParams" "DealDamage(4d10,Fire)"
data "ExtraDescription" "Shared_Passive_HellishRebuke_2_ExtraDescription"
data "TooltipUseCosts" "ReactionActionPoint:1"
data "Icon" "PassiveFeature_HellishRebuke"
data "PriorityOrder" "2"
data "Properties" "IsToggled;ToggledDefaultOn;ToggledDefaultAddToHotbar;Highlighted;Temporary"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false) and Enemy()"
data "StatsFunctors" "UseSpell(SWAP,Target_HellishRebuke_6,true,true,true);UseActionResource(ReactionActionPoint,1);RemoveStatus(HELLISH_REBUKE_6)"

new entry "HellishRebuke_7"
type "PassiveData"
data "DisplayName" "Hellish Rebuke"
data "Description" "Shared_Passive_HellishRebuke_2_Description"
data "DescriptionParams" "DealDamage(4d10,Fire)"
data "ExtraDescription" "Shared_Passive_HellishRebuke_2_ExtraDescription"
data "TooltipUseCosts" "ReactionActionPoint:1"
data "Icon" "PassiveFeature_HellishRebuke"
data "PriorityOrder" "2"
data "Properties" "IsToggled;ToggledDefaultOn;ToggledDefaultAddToHotbar;Highlighted;Temporary"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false) and Enemy()"
data "StatsFunctors" "UseSpell(SWAP,Target_HellishRebuke_7,true,true,true);UseActionResource(ReactionActionPoint,1);RemoveStatus(HELLISH_REBUKE_7)"

new entry "HellishRebuke_8"
type "PassiveData"
data "DisplayName" "Hellish Rebuke"
data "Description" "Shared_Passive_HellishRebuke_2_Description"
data "DescriptionParams" "DealDamage(4d10,Fire)"
data "ExtraDescription" "Shared_Passive_HellishRebuke_2_ExtraDescription"
data "TooltipUseCosts" "ReactionActionPoint:1"
data "Icon" "PassiveFeature_HellishRebuke"
data "PriorityOrder" "2"
data "Properties" "IsToggled;ToggledDefaultOn;ToggledDefaultAddToHotbar;Highlighted;Temporary"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false) and Enemy()"
data "StatsFunctors" "UseSpell(SWAP,Target_HellishRebuke_8,true,true,true);UseActionResource(ReactionActionPoint,1);RemoveStatus(HELLISH_REBUKE_8)"

new entry "HellishRebuke_9"
type "PassiveData"
data "DisplayName" "Hellish Rebuke"
data "Description" "Shared_Passive_HellishRebuke_2_Description"
data "DescriptionParams" "DealDamage(4d10,Fire)"
data "ExtraDescription" "Shared_Passive_HellishRebuke_2_ExtraDescription"
data "TooltipUseCosts" "ReactionActionPoint:1"
data "Icon" "PassiveFeature_HellishRebuke"
data "PriorityOrder" "2"
data "Properties" "IsToggled;ToggledDefaultOn;ToggledDefaultAddToHotbar;Highlighted;Temporary"
data "StatsFunctorContext" "OnDamaged"
data "Conditions" "HasActionResource('ReactionActionPoint', 1, 0, false) and Enemy()"
data "StatsFunctors" "UseSpell(SWAP,Target_HellishRebuke_9,true,true,true);UseActionResource(ReactionActionPoint,1);RemoveStatus(HELLISH_REBUKE_9)"

new entry "MotivationalSpeech"
type "PassiveData"
data "DisplayName" "Motivational Speech"
data "Description" "If hit by an attack, you gain Advantage on your next Attack Roll during combat."
data "Conditions" "IsAttack() and Enemy() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "ApplyStatus(MOTIVATIONAL_SPEECH_ADVANTAGE,100,-1)"
data "StatsFunctorContext" "OnAttacked"

new entry "AshardalonsStride"
type "PassiveData"
data "DisplayName" "Ashardalon's Stride"
data "Description" "When moving within [1] of a creature or an object deals fire damage to them."
data "DescriptionParams" "Distance(2)"
data "StatsFunctors" "IF(not HasStatus('ASHARDALONS_STRIDE_AURA',context.Source) and HasStatus('ASHARDALONS_STRIDE',context.Source)):ApplyStatus(SELF,ASHARDALONS_STRIDE_AURA,100,1);IF(not HasStatus('ASHARDALONS_STRIDE_AURA_4',context.Source) and HasStatus('ASHARDALONS_STRIDE_4',context.Source)):ApplyStatus(SELF,ASHARDALONS_STRIDE_AURA_4,100,1);IF(not HasStatus('ASHARDALONS_STRIDE_AURA_5',context.Source) and HasStatus('ASHARDALONS_STRIDE_5',context.Source)):ApplyStatus(SELF,ASHARDALONS_STRIDE_AURA_5,100,1);IF(not HasStatus('ASHARDALONS_STRIDE_AURA_6',context.Source) and HasStatus('ASHARDALONS_STRIDE_6',context.Source)):ApplyStatus(SELF,ASHARDALONS_STRIDE_AURA_6,100,1);IF(not HasStatus('ASHARDALONS_STRIDE_AURA_7',context.Source) and HasStatus('ASHARDALONS_STRIDE_7',context.Source)):ApplyStatus(SELF,ASHARDALONS_STRIDE_AURA_7,100,1);IF(not HasStatus('ASHARDALONS_STRIDE_AURA_8',context.Source) and HasStatus('ASHARDALONS_STRIDE_8',context.Source)):ApplyStatus(SELF,ASHARDALONS_STRIDE_AURA_8,100,1);IF(not HasStatus('ASHARDALONS_STRIDE_AURA_9',context.Source) and HasStatus('ASHARDALONS_STRIDE_9',context.Source)):ApplyStatus(SELF,ASHARDALONS_STRIDE_AURA_9,100,1)"
data "StatsFunctorContext" "OnMovedDistance"

new entry "Slow_ActionPoint"
type "PassiveData"
data "DisplayName" "Slow: Action Point"
data "Description" "You may only use an action or bonus action per turn."
data "StatsFunctors" "IF(HasActionResource('ActionPoint', 0, 0, false, context.Source)):ApplyStatus(SELF,SLOW_BONUS_ACTION_BLOCK,100,1);IF(HasActionResource('BonusActionPoint', 0, 0, false, context.Source)):ApplyStatus(SELF,SLOW_ACTION_BLOCK,100,1)"
data "StatsFunctorContext" "OnAttack"

new entry "SpiritGuardians"
type "PassiveData"
data "DisplayName" "Spirit Guardians"
data "Description" "Toggle on for your Spirit Guardians to deal Radiant damage or toggle off for Necrotic damage."
data "Icon" "Spell_Conjuration_SpiritGuardians"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;ToggledDefaultOn"
data "ToggleOnFunctors" "ApplyStatus(SPIRIT_GUARDIANS_RADIANT,100,-1)"
data "ToggleOffFunctors" "ApplyStatus(SPIRIT_GUARDIANS_NECROTIC,100,-1)"

new entry "ShadowBlade"
type "PassiveData"
data "DisplayName" "Shadow Blade"
data "Description" "The weapon grants the wielder Advantage when attacking a target in dim light or darkness."
data "Properties" "IsHidden"
data "Conditions" "IsMeleeAttack() and AttackedWithPassiveSourceWeapon() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "CreateExplosion(Projectile_PsychicEffect_Explosion)"
data "StatsFunctorContext" "OnAttack"

new entry "DevilsSight"
type "PassiveData"
data "DisplayName" "Shared_Passive_DevilsSight_DisplayName"
data "Description" "Shared_Passive_DevilsSight_Description"
data "DescriptionParams" "Distance(24)"
data "Icon" "PassiveFeature_DevilsSight"
data "Properties" "Highlighted"
data "Boosts" "DarkvisionRangeMin(24);ActiveCharacterLight(e278f6a0-26d7-49be-b11a-9b84bc313c3c);StatusImmunity(BLINDED_DARKNESS);StatusImmunity(BLINDED_DARKNESS_SELF)"

new entry "HailOfThorns"
type "PassiveData"
data "DisplayName" "Hail of Thorns"
data "Properties" "IsHidden"
data "Conditions" "IsRangedAttack() and IsWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit) and (HasStatus('HAIL_OF_THORNS',context.Source) or HasStatus('HAIL_OF_THORNS_2',context.Source) or HasStatus('HAIL_OF_THORNS_3',context.Source) or HasStatus('HAIL_OF_THORNS_4',context.Source) or HasStatus('HAIL_OF_THORNS_5',context.Source) or HasStatus('HAIL_OF_THORNS_6',context.Source) or HasStatus('HAIL_OF_THORNS_7',context.Source) or HasStatus('HAIL_OF_THORNS_8',context.Source) or HasStatus('HAIL_OF_THORNS_9',context.Source))"
data "StatsFunctors" "IF(HasStatus('HAIL_OF_THORNS',context.Source)):CreateExplosion(Projectile_HailOfThorns);IF(HasStatus('HAIL_OF_THORNS_2',context.Source)):CreateExplosion(Projectile_HailOfThorns_2);IF(HasStatus('HAIL_OF_THORNS_3',context.Source)):CreateExplosion(Projectile_HailOfThorns_3);IF(HasStatus('HAIL_OF_THORNS_4',context.Source)):CreateExplosion(Projectile_HailOfThorns_4);IF(HasStatus('HAIL_OF_THORNS_5',context.Source)):CreateExplosion(Projectile_HailOfThorns_5);IF(HasStatus('HAIL_OF_THORNS_6',context.Source)):CreateExplosion(Projectile_HailOfThorns_6);IF(HasStatus('HAIL_OF_THORNS_7',context.Source)):CreateExplosion(Projectile_HailOfThorns_7);IF(HasStatus('HAIL_OF_THORNS_8',context.Source)):CreateExplosion(Projectile_HailOfThorns_8);IF(HasStatus('HAIL_OF_THORNS_9',context.Source)):CreateExplosion(Projectile_HailOfThorns_9);RemoveStatus(SELF,HAIL_OF_THORNS);RemoveStatus(SELF,HAIL_OF_THORNS_2);RemoveStatus(SELF,HAIL_OF_THORNS_3);RemoveStatus(SELF,HAIL_OF_THORNS_4);RemoveStatus(SELF,HAIL_OF_THORNS_5);RemoveStatus(SELF,HAIL_OF_THORNS_6);RemoveStatus(SELF,HAIL_OF_THORNS_7);RemoveStatus(SELF,HAIL_OF_THORNS_8);RemoveStatus(SELF,HAIL_OF_THORNS_9)"
data "StatsFunctorContext" "OnAttack"

new entry "ThunderousSmite"
type "PassiveData"
data "DisplayName" "Thunderous Smite"
data "Properties" "IsHidden"
data "Conditions" "IsWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit) and Character()"
data "StatsFunctors" "IF(not DestructiveWrath()):DealDamage(2d6, Thunder, Magical);IFDestructiveWrath():DealDamage(12, Thunder, Magical);CreateExplosion(Projectile_ThunderEffect_Explosion);RemoveStatus(SELF,THUNDEROUS_SMITE_TECHNICAL);IF(not Grounded() and not SavingThrow(Ability.Strength,SourceSpellDC())):Force(3);IF(not Grounded()):ApplyStatus(PRONE,100,1,,,,not SavingThrow(Ability.Strength,SourceSpellDC()))"
data "StatsFunctorContext" "OnAttack"

new entry "BlindingSmite"
type "PassiveData"
data "DisplayName" "Blinding Smite"
data "Properties" "IsHidden"
data "Conditions" "IsWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit) and Character()"
data "StatsFunctors" "DealDamage(3d8, Radiant, Magical);CreateExplosion(Projectile_RadiantEffect_Explosion);RemoveStatus(SELF,BLINDING_SMITE_TECHNICAL);ApplyStatus(BLINDING_SMITE_BLINDED,100,10,,,,not SavingThrow(Ability.Constitution,SourceSpellDC()))"
data "StatsFunctorContext" "OnAttack"

new entry "BrandingSmite"
type "PassiveData"
data "DisplayName" "Branding Smite"
data "Properties" "IsHidden"
data "Conditions" "IsWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit) and Character()"
data "StatsFunctors" "IF(HasStatus('BRANDING_SMITE_TECHNICAL',context.Source)):DealDamage(2d6, Radiant, Magical);IF(HasStatus('BRANDING_SMITE_TECHNICAL_3',context.Source)):DealDamage(3d6, Radiant, Magical);IF(HasStatus('BRANDING_SMITE_TECHNICAL_4',context.Source)):DealDamage(4d6, Radiant, Magical);IF(HasStatus('BRANDING_SMITE_TECHNICAL_5',context.Source)):DealDamage(5d6, Radiant, Magical);IF(HasStatus('BRANDING_SMITE_TECHNICAL_6',context.Source)):DealDamage(6d6, Radiant, Magical);IF(HasStatus('BRANDING_SMITE_TECHNICAL_7',context.Source)):DealDamage(7d6, Radiant, Magical);IF(HasStatus('BRANDING_SMITE_TECHNICAL_8',context.Source)):DealDamage(8d6, Radiant, Magical);IF(HasStatus('BRANDING_SMITE_TECHNICAL_9',context.Source)):DealDamage(9d6, Radiant, Magical);CreateExplosion(Projectile_RadiantEffect_2_Explosion);RemoveStatus(SELF,BRANDING_SMITE_TECHNICAL);ApplyStatus(BRANDING_SMITE,100,10)"
data "StatsFunctorContext" "OnAttack"

new entry "BanishingSmite"
type "PassiveData"
data "DisplayName" "Banishing Smite"
data "Properties" "IsHidden"
data "Conditions" "IsWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit) and Character()"
data "StatsFunctors" "IF(HasStatus('BANISHING_SMITE_TECHNICAL',context.Source)):DealDamage(5d10, Force, Magical);CreateExplosion(Projectile_ForceEffect_Explosion);RemoveStatus(SELF,BANISHING_SMITE_TECHNICAL);ApplyStatus(BANISHING_SMITE_TECHNICAL_3,100,0)"
data "StatsFunctorContext" "OnAttack"

new entry "CompelledDuel_Attacked"
type "PassiveData"
data "DisplayName" "Compelled Duel"
data "Conditions" "not HasStatus('COMPELLED_DUEL_TECHNICAL',context.Source)"
data "StatsFunctors" "RemoveStatus(COMPELLED_DUEL)"
data "StatsFunctorContext" "OnAttacked"

new entry "CompelledDuel_Attacking"
type "PassiveData"
data "DisplayName" "Compelled Duel"
data "Conditions" "not HasStatus('COMPELLED_DUEL',context.Target)"
data "StatsFunctors" "RemoveStatus(SELF,COMPELLED_DUEL_TECHNICAL)"
data "StatsFunctorContext" "OnAttack"

new entry "WarmShield"
type "PassiveData"
data "DisplayName" "Warm Shield"
data "Properties" "IsHidden"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "DealDamage(SWAP,2d8, Fire, Magical)"
data "StatsFunctorContext" "OnAttacked"

new entry "ColdShield"
type "PassiveData"
data "DisplayName" "Cold Shield"
data "Properties" "IsHidden"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "DealDamage(SWAP,2d8, Cold, Magical)"
data "StatsFunctorContext" "OnAttacked"

new entry "Flyby"
type "PassiveData"
data "DisplayName" "Flyby"
data "Description" "Doesn’t provoke opportunity attacks when flying out of an enemy’s reach."
data "Boosts" "IgnoreLeaveAttackRange()"

new entry "Darkvision_BestialSpirit"
type "PassiveData"
data "DisplayName" "Shared_Passive_Darkvision_DisplayName"
data "Description" "Shared_Passive_Darkvision_Description"
data "DescriptionParams" " Distance(18)"
data "Icon" "PassiveFeature_Darkvision"
data "Properties" "Highlighted"
data "Boosts" "DarkvisionRangeMin(18);ActiveCharacterLight(051648e6-f05a-e41f-e398-ffd5cd148989)"

new entry "SpiritualWeapon"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctors" "RemoveStatus(SELF,SPIRITUAL_WEAPON_ACTION)"
data "StatsFunctorContext" "OnAttack"

new entry "RaiseDead"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctors" "IF(HasStatus('RAISE_DEAD_3')):RemoveStatus(RAISE_DEAD_3);IF(HasStatus('RAISE_DEAD_2')):RemoveStatus(RAISE_DEAD_2);IF(HasStatus('RAISE_DEAD')):RemoveStatus(RAISE_DEAD)"
data "StatsFunctorContext" "OnLongRest"

new entry "Resurrection"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctors" "IF(HasStatus('RESURRECTION_3')):RemoveStatus(RESURRECTION_3);IF(HasStatus('RESURRECTION_2')):RemoveStatus(RESURRECTION_2);IF(HasStatus('RESURRECTION')):RemoveStatus(RESURRECTION)"
data "StatsFunctorContext" "OnLongRest"

new entry "Multiattack_Elemental"
type "PassiveData"
data "DisplayName" "Multiattack"
data "Description" "The elemental makes two attacks."
data "Icon" "PassiveFeature_ExtraAttack"
data "Conditions" "(SpellId('Target_Touch_Elemental_Fire_Wildshape') or SpellId('Target_Slam_Elemental_Earth_WildShape') or SpellId('Target_Slam_Elemental_Water_WildShape') or SpellId('Target_Slam_Elemental_Air_WildShape')) and HasUseCosts('ActionPoint', true)"
data "Properties" "Highlighted"
data "StatsFunctors" "ApplyStatus(SELF,MULTIATTACK_ELEMENTAL,100,1)"
data "StatsFunctorContext" "OnAttack"

new entry "FireForm"
type "PassiveData"
data "DisplayName" "Fire Form"
data "Description" "Creatures that touch the elemental or hits it with a melee attack while within [1] of it takes [2]."
data "DescriptionParams" "Distance(2);DealDamage(1d10,Fire)"
data "Icon" "Spell_Conjuration_FlamingSphere"
data "Properties" "Highlighted"
data "Conditions" "IsMeleeAttack() and HasDamageEffectFlag(DamageFlags.Hit) and not DistanceToTargetGreaterThan(3)"
data "StatsFunctors" "DealDamage(SWAP,1d10, Fire, Magical)"
data "StatsFunctorContext" "OnAttacked"

new entry "Illumination"
type "PassiveData"
data "DisplayName" "Illumination"
data "Description" "The elemental sheds light in a [1] radius."
data "DescriptionParams" "Distance(18)"
data "Icon" "Spell_Evocation_Light"
data "Properties" "Highlighted"
data "Boosts" "GameplayLight(18,false,0.1)"

new entry "WaterSusceptibility"
type "PassiveData"
data "DisplayName" "Water Susceptibility"
data "Description" "Whenever the elemental moves in water, it takes [1]."
data "DescriptionParams" "DealDamage(1,Cold)"
data "Icon" "statIcons_RunningWater"
data "Properties" "Highlighted"
data "StatsFunctors" "IF(InSurface('SurfaceDeepWaterRunning') or InSurface('SurfaceWater')):DealDamage(1, Cold, Magical)"
data "StatsFunctorContext" "OnMovedDistance"

new entry "Freeze"
type "PassiveData"
data "DisplayName" "Freeze"
data "Description" "If the elemental takes cold damage, it partially freezes; its speed is reduced by [1] until the end of its next turn."
data "Icon" "Status_Chilled"
data "Properties" "Highlighted"
data "Conditions" "HasDamageDoneForType(DamageType.Cold)"
data "StatsFunctors" "ApplyStatus(FREEZE_WATER_ELEMENTAL,100,1)"
data "StatsFunctorContext" "OnDamaged"

new entry "Contagion_SlimyDoom"
type "PassiveData"
data "DisplayName" "Slimy Doom"
data "Properties" "IsHidden"
data "StatsFunctors" "ApplyStatus(SLIMY_DOOM_STUNNED,100,2)"
data "StatsFunctorContext" "OnDamaged"

new entry "GuardianOfNature_PrimalBeast"
type "PassiveData"
data "DisplayName" "Guardian of Nature: Primal Beast"
data "Properties" "IsHidden"
data "Conditions" "IsMeleeWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "DealDamage(1d6, Force, Magical)"
data "StatsFunctorContext" "OnAttack"

new entry "TimeStop"
type "PassiveData"
data "Properties" "IsHidden"
data "Conditions" "Character() and not Self()"
data "StatsFunctors" "RemoveStatus(SELF,TIME_STOP_AURA)"
data "StatsFunctorContext" "OnAttack"

new entry "LightningArrow"
type "PassiveData"
data "Properties" "IsHidden"
data "DisplayName" "Lightning Arrow"
data "Conditions" "IsWeaponAttack() and IsRangedAttack() and HasDamageEffectFlag(DamageFlags.Hit)"
data "StatsFunctors" "ApplyStatus(LIGHTNING_ARROW_TECHNICAL,100,1);IF(HasStatus('LIGHTNING_ARROW',context.Source)):CreateExplosion(Projectile_LightningArrow);IF(HasStatus('LIGHTNING_ARROW_4',context.Source)):CreateExplosion(Projectile_LightningArrow_4);IF(HasStatus('LIGHTNING_ARROW_5',context.Source)):CreateExplosion(Projectile_LightningArrow_5);IF(HasStatus('LIGHTNING_ARROW_6',context.Source)):CreateExplosion(Projectile_LightningArrow_6);IF(HasStatus('LIGHTNING_ARROW_7',context.Source)):CreateExplosion(Projectile_LightningArrow_7);IF(HasStatus('LIGHTNING_ARROW_8',context.Source)):CreateExplosion(Projectile_LightningArrow_8);IF(HasStatus('LIGHTNING_ARROW_9',context.Source)):CreateExplosion(Projectile_LightningArrow_9);ApplyStatus(SELF,LIGHTNING_ARROW_CONCENTRATION,100,0)"
data "StatsFunctorContext" "OnAttack"

new entry "SwiftQuiver"
type "PassiveData"
data "Properties" "IsHidden"
data "Conditions" "SpellId('Projectile_SwiftQuiver') and HasUseCosts('BonusActionPoint', true)"
data "StatsFunctors" "ApplyStatus(SELF,SWIFT_QUIVER_ATTACK,100,1)"
data "StatsFunctorContext" "OnAttack"

new entry "Darkvision_Shadowspawn"
type "PassiveData"
data "DisplayName" "Shared_Passive_Darkvision_DisplayName"
data "Description" "Shared_Passive_Darkvision_Description"
data "DescriptionParams" "Distance(36)"
data "Icon" "PassiveFeature_Darkvision"
data "Properties" "Highlighted"
data "Boosts" "DarkvisionRangeMin(36);ActiveCharacterLight(24401833-819b-469d-940a-e93b46aa5005)"

new entry "WeightOfSorrow_Despair"
type "PassiveData"
data "DisplayName" "Weight of Sorrow"
data "Description" "Any creature, other than you, that starts its turn within [1] of the spirit has its Movement Speed reduced by [2] until the start of that creature’s next turn."
data "DescriptionParams" "Distance(2);Distance(6)"

new entry "ShadowStealth_Fear"
type "PassiveData"
data "DisplayName" "Shadow Stealth"
data "Description" "While in dim light or darkness, this spirit can take the Hide action as a bonus action."
data "Boosts" "UnlockSpell(Shout_Hide_ShadowStealth)"

new entry "Multiattack_Shadowspawn"
type "PassiveData"
data "DisplayName" "Multiattack"
data "Description" "The shadowspawn makes a number of attacks equal to spell's level used to summon it."
data "Icon" "PassiveFeature_ExtraAttack"
data "Conditions" "SpellId('Target_ChillingHand') and HasUseCosts('ActionPoint', true) and not HasStatus('MULTIATTACK_SHADOWSPAWN_2',context.Source) and not HasStatus('MULTIATTACK_SHADOWSPAWN_3',context.Source)"
data "Properties" "Highlighted"
data "StatsFunctors" "ApplyStatus(SELF,MULTIATTACK_SHADOWSPAWN,100,1)"
data "StatsFunctorContext" "OnAttack"

new entry "Multiattack_Shadowspawn_2"
type "PassiveData"
data "DisplayName" "Multiattack"
using "Multiattack_Shadowspawn"

new entry "Multiattack_Shadowspawn_3"
type "PassiveData"
data "DisplayName" "Multiattack"
using "Multiattack_Shadowspawn"

new entry "ChromaticDragon_Resistance"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "Resistance(Acid,Resistant);Resistance(Cold,Resistant);Resistance(Fire,Resistant);Resistance(Lightning,Resistant);Resistance(Poison,Resistant)"

new entry "GemDragon_Resistance"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "Resistance(Force,Resistant);Resistance(Necrotic,Resistant);Resistance(Psychic,Resistant);Resistance(Radiant,Resistant);Resistance(Thunder,Resistant)"

new entry "Multiattack_DraconicSpirit"
type "PassiveData"
data "DisplayName" "Multiattack"
data "Description" "The draconic spirit makes a number of attacks equal to spell's level used to summon it and uses its Breath Weapon."
data "Icon" "PassiveFeature_ExtraAttack"
data "Conditions" "SpellId('Target_Rend') and HasUseCosts('ActionPoint', true) and not HasStatus('MULTIATTACK_DRACONIC_SPIRIT',context.Source) and not HasStatus('MULTIATTACK_DRACONIC_SPIRIT_2',context.Source) and not HasStatus('MULTIATTACK_DRACONIC_SPIRIT_3',context.Source) and not HasStatus('MULTIATTACK_DRACONIC_SPIRIT_BREATH_WEAPON',context.Source)"
data "Properties" "Highlighted"
data "StatsFunctors" "ApplyStatus(SELF,MULTIATTACK_DRACONIC_SPIRIT,100,1);ApplyStatus(SELF,MULTIATTACK_DRACONIC_SPIRIT_BREATH_WEAPON,100,1)"
data "StatsFunctorContext" "OnAttack"

new entry "Multiattack_DraconicSpirit_2"
type "PassiveData"
using "Multiattack_DraconicSpirit"
data "DisplayName" "Multiattack"
data "Properties" "IsHidden"

new entry "Multiattack_DraconicSpirit_3"
type "PassiveData"
using "Multiattack_DraconicSpirit"
data "DisplayName" "Multiattack"
data "Properties" "IsHidden"

new entry "Multiattack_DraconicSpirit_BreathWeapon"
type "PassiveData"
using "Multiattack_DraconicSpirit"
data "DisplayName" "Multiattack"
data "Conditions" "(SpellId('Zone_BreathWeapon_Acid') or SpellId('Zone_BreathWeapon_Cold') or SpellId('Zone_BreathWeapon_Fire') or SpellId('Zone_BreathWeapon_Lightning') or SpellId('Zone_BreathWeapon_Poison') or SpellId('Zone_BreathWeapon_Force') or SpellId('Zone_BreathWeapon_Necrotic') or SpellId('Zone_BreathWeapon_Radiant') or SpellId('Zone_BreathWeapon_Psychic') or SpellId('Zone_BreathWeapon_Thunder')) and HasUseCosts('ActionPoint', true) and not HasStatus('MULTIATTACK_DRACONIC_SPIRIT_MODIFIED',context.Source)"
data "StatsFunctors" "ApplyStatus(SELF,MULTIATTACK_DRACONIC_SPIRIT_MODIFIED,100,1)"
data "StatsFunctorContext" "OnAttack"

new entry "FlameArrows"
type "PassiveData"
data "Properties" "IsHidden"
data "DisplayName" "Flame Arrows"
data "Conditions" "IsRangedWeaponAttack() and IsHit()"
data "Boosts" "ActionResource(FlameArrows,12,0)"
data "StatsFunctors" "DealDamage(1d6,Fire);UseActionResource(SELF,FlameArrows,1,0);IF(not HasActionResource('FlameArrows',1,0,false,context.Source)):RemoveStatus(SELF,FLAME_ARROWS_TECHNICAL)"
data "StatsFunctorContext" "OnAttack"