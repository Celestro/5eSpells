new entry "METAMAGIC_TWINNED"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "METAMAGIC_TWINNED"
data "StatusPropertyFlags" "IgnoreResting;ApplyToDead;DisableCombatlog;DisableOverhead;DisablePortraitIndicator"

new entry "RITUAL_CASTING_TECHNICAL"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "RITUAL_CASTING_TECHNICAL"
data "StatusPropertyFlags" "IgnoreResting;ApplyToDead;DisableCombatlog;DisableOverhead;DisablePortraitIndicator"

new entry "S5E_RITUAL_SPELL_DETECT_MAGIC"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" "UnlockSpell(Shout_DetectMagic_Ritual)"
data "StackId" "S5E_RITUAL_SPELL_DETECT_MAGIC"
data "StatusPropertyFlags" "ApplyToDead;IgnoreResting;DisableCombatlog;DisableOverhead;DisablePortraitIndicator"
data "StatusGroups" "SG_RemoveOnRespec"

new entry "S5E_RITUAL_SPELL_UNSEEN_SERVANT"
type "StatusData"
data "StatusType" "BOOST"
using "S5E_RITUAL_SPELL_DETECT_MAGIC"
data "Boosts" "UnlockSpell(Target_UnseenServant_Ritual)"
data "StackId" "S5E_RITUAL_SPELL_UNSEEN_SERVANT"

new entry "S5E_RITUAL_SPELL_FIND_FAMILIAR"
type "StatusData"
data "StatusType" "BOOST"
using "S5E_RITUAL_SPELL_DETECT_MAGIC"
data "Boosts" "UnlockSpell(Target_FindFamiliar_Ritual)"
data "StackId" "S5E_RITUAL_SPELL_FIND_FAMILIAR"

new entry "S5E_RITUAL_SPELL_CEREMONY"
type "StatusData"
data "StatusType" "BOOST"
using "S5E_RITUAL_SPELL_DETECT_MAGIC"
data "Boosts" "UnlockSpell(Target_Ceremony_Ritual)"
data "StackId" "S5E_RITUAL_SPELL_CEREMONY"

new entry "S5E_RITUAL_SPELL_WATER_WALK"
type "StatusData"
data "StatusType" "BOOST"
using "S5E_RITUAL_SPELL_DETECT_MAGIC"
data "Boosts" "UnlockSpell(Shout_WaterWalk_Ritual)"
data "StackId" "S5E_RITUAL_SPELL_WATER_WALK"

new entry "S5E_RITUAL_SPELL_COMMUNE_WITH_NATURE"
type "StatusData"
data "StatusType" "BOOST"
using "S5E_RITUAL_SPELL_DETECT_MAGIC"
data "Boosts" "UnlockSpell(Shout_CommuneWithNature_Ritual)"
data "StackId" "S5E_RITUAL_SPELL_COMMUNE_WITH_NATURE"

new entry "S5E_RITUAL_SPELL_TELEPATHIC_BOND"
type "StatusData"
data "StatusType" "BOOST"
using "S5E_RITUAL_SPELL_DETECT_MAGIC"
data "Boosts" "UnlockSpell(Target_RarysTelepathicBond_Ritual)"
data "StackId" "S5E_RITUAL_SPELL_TELEPATHIC_BOND"

new entry "DIFFICULT_TERRAIN_GREASE"
type "StatusData"
data "StatusType" "BOOST"
using "DIFFICULT_TERRAIN"
data "DisplayName" "f807b333f5e94104bd79e3252275de44;1"

new entry "DIFFICULT_TERRAIN_SEWER"
type "StatusData"
data "StatusType" "BOOST"
using "DIFFICULT_TERRAIN"
data "DisplayName" "b9fde1872d3e490a8df08deccffbdb67;1"

new entry "RITUAL_CASTER"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;DisablePortraitIndicator"

new entry "RITUAL_CASTING_SPELLS"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;DisablePortraitIndicator;IgnoreResting"

new entry "BURNING_REMOVAL"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "BURNING"
data "OnApplyFunctors" "RemoveStatus(BURNING);RemoveStatus(DIPPED_FIRE)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "BREAKCONCENTRATION"
type "StatusData"
data "StatusType" "BOOST"
data "OnApplyFunctors" "BreakConcentration()"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "TELEPORT_SELECTION"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hb973c1b3gb0aeg49fbgb01dgb1792dfc4bbc;1"
data "Description" "h05552759ge4e2g4d0dgae0age8099852d5a7;1"
data "Icon" "Spell_Conjuration_Teleport"
data "StackId" "TELEPORT_SELECTION"
data "Boosts" "UnlockSpell(Shout_Teleport_Destination)"
data "StatusPropertyFlags" "IgnoreResting;ApplyToDead"
data "StatusGroups" "SG_RemoveOnRespec"

new entry "TELEPORT"
type "StatusData"
data "StatusType" "BOOST"
data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;DisablePortraitIndicator"

new entry "TELEPORT_EXPLOSION"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "TELEPORT_EXPLOSION"
data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;DisablePortraitIndicator"

new entry "INVISIBLE_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "INVISIBLE"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(INVISIBLE,100,Target.INVISIBLE_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "INVISIBLE_MAGEHAND_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "INVISIBLE_MAGEHAND"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(INVISIBLE_MAGEHAND,100,Target.INVISIBLE_MAGEHAND_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "INVISIBILITY_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "INVISIBILITY"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and IsConcentrating(context.Source) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(INVISIBILITY,100,Target.INVISIBILITY_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "ONE_WITH_SHADOWS_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "ONE_WITH_SHADOWS"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL')) or SpellId('Projectile_Jump') or SpellId('Projectile_Fly') or SpellId('Projectile_Fly_Spell')"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(ONE_WITH_SHADOWS,100,Target.ONE_WITH_SHADOWS_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "POTION_OF_INVISIBILITY_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "POTION_OF_INVISIBILITY"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(POTION_OF_INVISIBILITY,100,Target.POTION_OF_INVISIBILITY_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "CLOAK_OF_SHADOWS_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "CLOAK_OF_SHADOWS"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(CLOAK_OF_SHADOWS,100,Target.CLOAK_OF_SHADOWS_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "CLOAK_OF_SHADOWS_MONK_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "CLOAK_OF_SHADOWS_MONK"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (IsStatusEvent(StatusEvent.OnObscurityChanged) and HasObscuredState(ObscuredState.Clear,context.Source)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not IsStatusEvent(StatusEvent.OnObscurityChanged) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(CLOAK_OF_SHADOWS_MONK,100,Target.CLOAK_OF_SHADOWS_MONK_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "UMBRAL_CLOAK_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "UMBRAL_CLOAK"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (IsStatusEvent(StatusEvent.OnObscurityChanged) and HasObscuredState(ObscuredState.Clear,context.Source)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not IsStatusEvent(StatusEvent.OnObscurityChanged) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(UMBRAL_CLOAK,100,Target.UMBRAL_CLOAK_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "GREATER_INVISIBILITY_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "GREATER_INVISIBILITY"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" ""
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and IsConcentrating(context.Source) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(GREATER_INVISIBILITY,100,Target.GREATER_INVISIBILITY_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "SHADOWBLEND_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "SHADOWBLEND"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or ((IsStatusEvent(StatusEvent.OnObscurityChanged) or IsStatusEvent(StatusEvent.OnMove)) and (HasObscuredState(ObscuredState.Clear,context.Source))) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not IsStatusEvent(StatusEvent.OnObscurityChanged) and not IsStatusEvent(StatusEvent.OnMove) and not HasStatus('SEE_INVISIBILITY_REVEAL'))) or (IsStatusEvent(StatusEvent.OnStatusApplied) and (HasStatus('FAERIE_FIRE') or HasStatus('BRANDING_SMITE')))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(SHADOWBLEND,100,Target.SHADOWBLEND_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;DisableOverhead;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "INVISIBILITY_SHADARKAI_GLOOMWEAVER_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "INVISIBILITY_SHADARKAI_GLOOMWEAVER"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll); UnlockSpell(Target_MistyEscape_ShadarKai_GloomWeaver)"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(INVISIBILITY_SHADARKAI_GLOOMWEAVER,100,Target.INVISIBILITY_SHADARKAI_GLOOMWEAVER_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "HIDE_IN_PLAIN_SIGHT_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "HIDE_IN_PLAIN_SIGHT"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll); Skill(Stealth, 10)"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(HIDE_IN_PLAIN_SIGHT,100,Target.HIDE_IN_PLAIN_SIGHT_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "MISTY_ESCAPE_INVISIBLE_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "MISTY_ESCAPE_INVISIBLE"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll); UnlockSpell(Target_MistyStep_Free)"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(MISTY_ESCAPE_INVISIBLE,100,Target.MISTY_ESCAPE_INVISIBLE_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "INVISIBILITY_PANTHER_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "INVISIBILITY_PANTHER"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll); Advantage(Skill, Stealth)"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL')) or not HasStatus('WILDSHAPE_PANTHER_PLAYER')"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(INVISIBILITY_PANTHER,100,Target.INVISIBILITY_PANTHER_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "SHROUD_SELF_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "SHROUD_SELF"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(SHROUD_SELF,100,Target.SHROUD_SELF_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "SUPREME_SNEAK_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "SUPREME_SNEAK"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "(IsStatusEvent(StatusEvent.OnSpellCast) and not HasSpellFlag(SpellFlags.Invisible)) or (not IsStatusEvent(StatusEvent.OnSpellCast) and not IsStatusEvent(StatusEvent.OnAttack) and not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(SUPREME_SNEAK,100,Target.SUPREME_SNEAK_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "MAG_INVISIBLE_WEAPON_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "MAG_INVISIBLE_WEAPON"
data "Boosts" "CannotBeDisarmed()"
data "RemoveConditions" "not HasStatus('SEE_INVISIBILITY_REVEAL')"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(MAG_INVISIBLE_WEAPON,100,Target.MAG_INVISIBLE_WEAPON_SEEN.Duration,,,,,true)"

new entry "LOW_POLTERGEIST_INVISIBLE_SEEN"
type "StatusData"
data "StatusType" "INVISIBLE"
using "LOW_POLTERGEIST_INVISIBLE"
data "Boosts" "IF(not CanSeeInvisible()):Disadvantage(AttackTarget); IF(not CanSeeInvisible(context.Target)):Advantage(AttackRoll);"
data "RemoveConditions" "IsStatusEvent(StatusEvent.OnAttacked) or not HasStatus('SEE_INVISIBILITY_REVEAL'))"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.External) and not HasStatus('SEE_INVISIBILITY_REVEAL')):ApplyStatus(LOW_POLTERGEIST_INVISIBLE,100,Target.LOW_POLTERGEIST_INVISIBLE_SEEN.Duration,,,,,true)"
data "StatusPropertyFlags" "UnavailableInActiveRoll;ExcludeFromPortraitRendering;DisableCombatlog"

new entry "SNEAKING"
type "StatusData"
data "StatusType" "SNEAKING"
using "SNEAKING"
data "Boosts" "IF((not HasStatus('MIND_SPIKE_OWNER', context.Target) and not HasStatus('MIND_SPIKE',context.Source,context.Target)) and not (HasPassive('Blindsense',context.Target) and not DistanceToGreaterThan(context.SourcePosition, context.TargetPosition, 3)) and not HasPassive('Elusive',context.Target)):Advantage(AttackRoll);MovementSpeedLimit(Walk);Tag(VFX_SNEAKING);UnlockSpellVariant(IsHideSpell(),ModifyUseCosts(Replace,BonusActionPoint,0,0,BonusActionPoint));UnlockSpellVariant(IsHideSpell(),ModifyUseCosts(Replace,ActionPoint,0,0,ActionPoint))"

new entry "BLUR"
type "StatusData"
data "StatusType" "BOOST"
using "BLUR"
data "Boosts" "IF(not Tagged('BLINDSIGHT', context.Source) and not HasStatus('TRUESIGHT', context.Source) and not (HasPassive('FightingStyle_BlindFighting', context.Source) or DistanceToTargetGreaterThan(3))):Disadvantage(AttackTarget)"

new entry "INTELLIGENCE_SPELLCASTING"
type "StatusData"
data "StatusType" "BOOST"
data "StackId" "SPELLCASTING_ABILITY"
data "StatusGroups" "SG_RemoveOnRespec"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "WISDOM_SPELLCASTING"
type "StatusData"
data "StatusType" "BOOST"
using "INTELLIGENCE_SPELLCASTING"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "CHARISMA_SPELLCASTING"
type "StatusData"
data "StatusType" "BOOST"
using "INTELLIGENCE_SPELLCASTING"